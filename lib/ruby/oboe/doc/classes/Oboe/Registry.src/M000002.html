
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>read_properties (Oboe::Registry)</title>
<link rel=StyleSheet href="../../.././rdoc-style.css" type="text/css" media="screen" />
</head>
<body bgcolor="white">
<pre><span class="cmt"># File registry.rb, line 21</span>
  <span class="kw">def</span> Registry.read_properties(lines)
    hash = {}
    lines.gsub(<span class="re">/\\\r*\n\s*/</span>, <span class="str">&quot;&quot;</span>).split(<span class="str">&quot;\n&quot;</span>).each <span class="kw">do</span> |line|
      <span class="kw">next</span> <span class="kw">if</span> line =~ /\s*#/	<span class="cmt"># skip comments</span>
      <span class="kw">next</span> <span class="kw">unless</span> line=~ <span class="re">/\S/</span> 	<span class="cmt"># skip blank lines</span>
      line.sub!(<span class="re">/\s*$/</span>, <span class="str">&quot;&quot;</span>)	<span class="cmt"># strip trailing space</span>
      line =~ <span class="re">/\s*([^:=\s]+)\s*[:=]*\s*(\S*.*)/</span>
      hash[$1] = [] <span class="kw">unless</span> hash.has_key?($1)
      hash[$1] &lt;&lt; $2
    <span class="kw">end</span>
    <span class="kw">return</span> hash
  <span class="kw">end</span></pre>
</body>
</html>